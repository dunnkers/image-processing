clc;                                  % clear the command window
close all;                            % close open figure windows      

imname = 'blurrymoon';

inputfile = [imname,'.tif'];          
f=imread(inputfile);                  % read input image
M = size(f,1);
N = size(f,2);

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
h = IPhistogram(f);
figure;
subplot(121);
h_ref = histogram(f);
subplot(121);
bar(h);

% Write output to file
% outputfile = [imname, '_downsamplingFactor=' num2str(downsamplingFactor), '.png'];
% imwrite(g, outputfile);
% fprintf('\nFiltered image saved in file %s\n', outputfile);
% 
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% % Plot images
% 
% % Plot the input image
% figure;
% subplot(121);
% colormap(gray(256));
% imagesc(f);
% axis equal;
% axis tight;
% title('INPUT IMAGE')
% 
% % Plot the output image
% subplot(122);
% colormap(gray(256));
% imagesc(g);
% axis equal;
% axis tight;
% title('DOWNSAMPLED IMAGE')
% 
% % Write current figure to file
% all_file = [imname,'_all','_downsamplingFactor=',num2str(downsamplingFactor),'.png'];
% saveas(gcf,all_file);
% 
% fprintf('\nComplete image has been saved in file %s\n', all_file);

